<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.12.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RIOT OS: Particle Mesh common</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="clipboard.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="global.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-paragraph-link.js" rel="stylesheet" type="text/css"/>
    <!-- ... other metadata & script includes ... -->
    <script
      type="text/javascript"
      src="doxygen-awesome-paragraph-link.js"
    ></script>
    <script type="text/javascript">
      DoxygenAwesomeParagraphLink.init();
    </script>
    <!-- <link href="pagefind/pagefind-ui.css" rel="stylesheet"> -->
    <script src="pagefind/pagefind-ui.js"></script>
    <script>
      // Check whether the PagefindUI class is available
      if (typeof PagefindUI === "undefined") {
        console.error("PagefindUI class is not available | Dev Build");
      } else {
        // // Remove the "searchstub" element and initialize the PagefindUI class
        // document.getElementById("#searchstub").remove();
        // Initialize the PagefindUI class with the element id "search"
        window.addEventListener("DOMContentLoaded", (event) => {
          new PagefindUI({
            element: "#pagefindsearch",
            showSubResults: true,
            showImages: false,
            resetStyles: false,
            mergeFilter: {
              "Information Source": "API Documentation",
            },
            mergeIndex: [{
              bundlePath: "https://riot.annsann.eu/pagefind",
              mergeFilter: {
                "Information Source": "Guides",
              }
          }], 
          });
        });
      }
    </script>
  </head>
  <body>
    <div>
        <div id="top">
          <!-- do not remove this div, it is closed by doxygen! -->
          <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
              <tbody>
                <tr id="projectrow">
                  <td id="projectlogo">
                    <img alt="Logo" src="riot-logo.svg"  />
                  </td>
                  <td id="projectalign">
                    <div id="projectname">
                      RIOT OS
                    </div>
                    <div id="projectbrief">The friendly Operating System for the Internet of Things</div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div
              id="searchbox"
              class="flex justify-items-center mb-6 gap-2 flex-col transition ease-in-out absolute z-[1055] bg-slate-800 right-6 top-16 rounded-xl min-h-32 m-4 p-4 max-h-screen min-w-64 max-w-96 overflow-y-auto overflow-x-hidden outline-double outline-4 outline-slate-700"
            >
              <div class="self-center text-xl">Searchbox üê∏üîé</div>
              <div id="pagefindsearch"></div>
            </div>
          </div>
        </div>
        <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__boards__common__particle-mesh.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#files">Files</a>  </div>
  <div class="headertitle"><div class="title">Particle Mesh common<div class="ingroups"><a class="el" href="group__boards.html">Boards</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Common support for the Particle Mesh boards family (Xenon, Argon, Boron)  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Common support for the Particle Mesh boards family (Xenon, Argon, Boron) </p>
<h3><a class="anchor" id="autotoc_md312"></a>
General information</h3>
<p><a href="https://www.particle.io/mesh/">Particle Mesh</a> are mesh-ready development kits. Depending on the board type (Xenon, Argon, Boron), it provides access to multiple communication protocols: BLE, 802.15.4, WiFi, LTE.</p>
<h3><a class="anchor" id="autotoc_md313"></a>
Flash the board</h3>
<p>Using the <a href="https://docs.particle.io/datasheets/accessories/mesh-accessories/#debugger">Particle Mesh debugger</a>, the board can be flashed with PyOCD programmer via a DAPLink.</p>
<p>PyOCD can be installed using Python package manager: </p><div class="fragment"><div class="line">pip install pyocd --user -U</div>
</div><!-- fragment --><p>To flash the board, use <code>BOARD=&lt;board name&gt;</code> (with board name in {particle-argon, particle-boron, particle-xenon}) with the <code>make</code> command.<br  />
 Example with <code>hello-world</code> application: </p><div class="fragment"><div class="line">make BOARD=particle-xenon -C examples/hello-world flash</div>
</div><!-- fragment --><p>In this case, OpenOCD can also be used. For the moment, the latest stable version of OpenOCD (0.10) doesn't contain any support for nrf52 but versions built against the actual development version can be used.</p>
<p>To flash the board with OpenOCD, use the <code>PROGRAMMER</code> variable: </p><div class="fragment"><div class="line">PROGRAMMER=openocd make BOARD=&lt;board name&gt; -C examples/hello-world flash</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md314"></a>
Alternative flashing procedure: Particle bootloader and DFU-Util</h4>
<p>As an alternative to using the Particle Mesh debugger, the USB DFU mode bootloader shipped with Particle Mesh devices can be used. That mode can be entered by keeping the SETUP/MODE button pressed after power-up or reset until the RGB LED <b>blinks yellow fast</b>.</p>
<p>In this mode, the bootloader and Soft Device are kept in place, reducing the available flash memory to 784kB, but in turn, devices can easily be switched back to using Particle software.</p>
<p>In order to use this mode, set <code>PARTICLE_MONOFIRMWARE=1</code> wherever you set the <code>BOARD</code>. This will trigger the use of the appropriate linker script, and switch in <a href="http://dfu-util.sourceforge.net/"><code>dfu-util</code></a> as the default programmer, which needs to be installed.</p>
<p>On Linux hosts, devices for the DFU mode are frequently only accessible to root, causing error messages like </p><pre class="fragment">dfu-util: Cannot open DFU device 2b04:d00e
dfu-util: No DFU capable USB device available
</pre><p>To make Particle devices writable for all users, follow <a href="https://docs.particle.io/support/particle-tools-faq/installing-dfu-util/">Particle's instructions</a> on setting up dfu-util.</p>
<p>The Particle bootloader checks the firmware's checksum at startup time. As these checks would be frustrated by flash writes inside RIOT (typically using the <a class="el" href="group__drivers__periph__flashpage.html">Flash page driver</a>), the CFLAG <a class="el" href="common_2particle-mesh_2include_2board_8h.html#a5488bec84d59fabc84e4b61dd3f2ce06">-DPARTICLE_MONOFIRMWARE_CHECKSUMLIMIT</a> can be set. Then, the checksum is only calculated over the memory region that contains the interrupt vector and the bootloader manifest.</p>
<h3><a class="anchor" id="autotoc_md315"></a>
Reset the board</h3>
<p>The on-board reset button doesn't work, so to trigger a reset of the board, use the <code>reset</code> target with <code>make</code>: </p><div class="fragment"><div class="line">make BOARD=&lt;board name&gt; -C examples/hello-world reset</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md316"></a>
STDIO configuration</h3>
<p>By default, the board uses USB to expose a serial terminal. Other stdio options can be enabled as modules to replace that.</p>
<p>When the <code>stdio_uart</code> module is used, it defaults to using UART0, which is configured for the board's RX/TX pin pair.</p>
<h3><a class="anchor" id="autotoc_md317"></a>
nRF antenna selection</h3>
<p>The Particle Mesh boards all have two antenna choices for their nRF (Bluetooth / 802.15.4) radios, a on-board antenna and a U.FL connector for an external antenna.</p>
<p>By default, the on-board antenna is selected at startup. That choice can be overridden by setting <code>BOARD_NRFANTENNA_DEFAULT = EXTERNAL</code> (as opposed to the default <code>BUILTIN</code>) in a project's <code>Makefile</code>, or at runtime using <a class="el" href="common_2particle-mesh_2include_2board_8h.html#a256a868fbdd26f23b010090d1b37c437">board_nrfantenna_select</a> function.</p>
<p>The external antenna connection should only be enabled if a suitable antenna is connected. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_2particle-mesh_2include_2board_8h.html">board.h</a></td></tr>
<tr class="memdesc:common_2particle-mesh_2include_2board_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common board specific configuration for the Particle Mesh. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_2particle-mesh_2include_2gpio__params_8h.html">gpio_params.h</a></td></tr>
<tr class="memdesc:common_2particle-mesh_2include_2gpio__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration of SAUL mapped GPIO pins. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="particle-mesh_2include_2periph__conf__common_8h.html">periph_conf_common.h</a></td></tr>
<tr class="memdesc:particle-mesh_2include_2periph__conf__common_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common peripheral configuration for the Particle Mesh. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="common_2particle-mesh_2include_2pwm__params_8h.html">pwm_params.h</a></td></tr>
<tr class="memdesc:common_2particle-mesh_2include_2pwm__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration of SAUL mapped PWM channels. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
<div>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 1 2024 14:31:25 for RIOT OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</div>
</body>
</html>
