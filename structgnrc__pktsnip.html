<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.12.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RIOT OS: gnrc_pktsnip Struct Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="clipboard.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="global.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-paragraph-link.js" rel="stylesheet" type="text/css"/>
    <!-- ... other metadata & script includes ... -->
    <script
      type="text/javascript"
      src="doxygen-awesome-paragraph-link.js"
    ></script>
    <script type="text/javascript">
      DoxygenAwesomeParagraphLink.init();
    </script>
    <!-- <link href="pagefind/pagefind-ui.css" rel="stylesheet"> -->
    <script src="pagefind/pagefind-ui.js"></script>
    <script>
      // Check whether the PagefindUI class is available
      if (typeof PagefindUI === "undefined") {
        console.error("PagefindUI class is not available | Dev Build");
      } else {
        // // Remove the "searchstub" element and initialize the PagefindUI class
        // document.getElementById("#searchstub").remove();
        // Initialize the PagefindUI class with the element id "search"
        window.addEventListener("DOMContentLoaded", (event) => {
          new PagefindUI({
            element: "#pagefindsearch",
            showSubResults: true,
            showImages: false,
            resetStyles: false,
          });
        });
      }
    </script>
  </head>
  <body>
    <div>
        <div id="top">
          <!-- do not remove this div, it is closed by doxygen! -->
          <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
              <tbody>
                <tr id="projectrow">
                  <td id="projectlogo">
                    <img alt="Logo" src="riot-logo.svg"  />
                  </td>
                  <td id="projectalign">
                    <div id="projectname">
                      RIOT OS
                    </div>
                    <div id="projectbrief">The friendly Operating System for the Internet of Things</div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div
              id="searchbox"
              class="flex justify-items-center mb-6 gap-2 flex-col transition ease-in-out absolute z-[1055] bg-slate-800 right-6 top-16 rounded-xl min-h-32 m-4 p-4 max-h-screen min-w-64 max-w-96 overflow-y-auto overflow-x-hidden outline-double outline-4 outline-slate-700"
            >
              <div class="self-center text-xl">Searchbox üê∏üîé</div>
              <div id="pagefindsearch"></div>
            </div>
          </div>
        </div>
        <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structgnrc__pktsnip.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">gnrc_pktsnip Struct Reference<div class="ingroups"><a class="el" href="group__net.html">Networking</a> &raquo; <a class="el" href="group__net__gnrc.html">Generic (GNRC) network stack</a> &raquo; <a class="el" href="group__net__gnrc__pktbuf.html">Packet buffer</a> &raquo; <a class="el" href="group__net__gnrc__pkt.html">Packet</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Type to represent parts (either headers or payload) of a packet, called snips.  
 <a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Type to represent parts (either headers or payload) of a packet, called snips. </p>
<p>The idea behind the packet snips is that they either can represent protocol-specific headers or payload. A packet can be comprised of multiple pktsnip_t elements.</p>
<p>Example: </p><pre class="fragment">                                                    buffer
+---------------------------+                      +------+
| size = 14                 | data +--------------&gt;|      |
| type = NETTYPE_ETHERNET   |------+               +------+
+---------------------------+                      .      .
      | next                                       .      .
      v                                            +------+
+---------------------------+         +-----------&gt;|      |
| size = 40                 | data    |            |      |
| type = NETTYPE_IPV6       |---------+            +------+
+---------------------------+                      .      .
      | next                                       .      .
      v                                            +------+
+---------------------------+            +--------&gt;|      |
| size = 8                  | data       |         +------+
| type = NETTYPE_UDP        |------------+         .      .
+---------------------------+                      .      .
      | next                                       +------+
      v                                     +-----&gt;|      |
+---------------------------+               |      |      |
| size = 59                 | data          |      .      .
| type = NETTYPE_UNDEF      |---------------+      .      .
+---------------------------+                      .      .
</pre><p>To keep data duplication as low as possible the order of the snips in a packet will be reversed depending on if you send the packet or if you received it. For sending the order is from (in the network stack) lowest protocol snip to the highest, for receiving the order is from highest snip to the lowest. This way, if a layer needs to duplicate the packet a tree is created rather than a duplication of the whole package.</p>
<p>A very extreme example for this (we only expect one or two duplications at maximum per package) can be seen here: </p><pre class="fragment"> Sending                          Receiving
 =======                          =========

 * Payload                        * L2 header
 ^                                ^
 |                                |
 |\                               |\
 | * L4 header 1                  | * L2.5 header 1
 | * L3 header 1                  | * L3 header 1
 | * netif header 1               | * L4 header 1
 * L4 header 2                    | * Payload 1
 ^                                * L3 header 2
 |                                ^
 |\                               |
 | * L3 header 2                  |\
 | * L2 header 2                  | * L4 header 2
 * L2 header 3                    | * Payload 2
 |\                               * Payload 3
 | * L2 header 3
 * L2 header 4
</pre><p>The first three fields (next, data, size) match iolist_t (named iol_next, iol_base and iol_len there). That means that any pktsnip can be casted to iolist_t for direct passing to e.g., netdev <a class="el" href="group__posix__sockets.html#ga3ed135eb9019c8945718d03da23546c9" title="Send a message on a socket.">send()</a> functions.</p>
<dl class="section note"><dt>Note</dt><dd>This type has no initializer on purpose. Please use <a class="el" href="group__net__gnrc__pktbuf.html">Packet buffer</a> as factory. </dd></dl>
</div>
<p><code>#include &lt;pkt.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ad6d823f68b2ee82429861342bd86c0a9" id="r_ad6d823f68b2ee82429861342bd86c0a9"><td class="memItemLeft" align="right" valign="top"><a id="ad6d823f68b2ee82429861342bd86c0a9" name="ad6d823f68b2ee82429861342bd86c0a9"></a>
struct <a class="el" href="structgnrc__pktsnip.html">gnrc_pktsnip</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>next</b></td></tr>
<tr class="memdesc:ad6d823f68b2ee82429861342bd86c0a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">next snip in the packet <br /></td></tr>
<tr class="separator:ad6d823f68b2ee82429861342bd86c0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ca47171b70901e55f4a5c67399f070" id="r_a04ca47171b70901e55f4a5c67399f070"><td class="memItemLeft" align="right" valign="top"><a id="a04ca47171b70901e55f4a5c67399f070" name="a04ca47171b70901e55f4a5c67399f070"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>data</b></td></tr>
<tr class="memdesc:a04ca47171b70901e55f4a5c67399f070"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to the data of the snip <br /></td></tr>
<tr class="separator:a04ca47171b70901e55f4a5c67399f070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0718f2cde3411a4833f82c10f8ea8d71" id="r_a0718f2cde3411a4833f82c10f8ea8d71"><td class="memItemLeft" align="right" valign="top"><a id="a0718f2cde3411a4833f82c10f8ea8d71" name="a0718f2cde3411a4833f82c10f8ea8d71"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>size</b></td></tr>
<tr class="memdesc:a0718f2cde3411a4833f82c10f8ea8d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">the length of the snip in byte <br /></td></tr>
<tr class="separator:a0718f2cde3411a4833f82c10f8ea8d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ccc7be825c7f5c449825676606921b3" id="r_a4ccc7be825c7f5c449825676606921b3"><td class="memItemLeft" align="right" valign="top"><a id="a4ccc7be825c7f5c449825676606921b3" name="a4ccc7be825c7f5c449825676606921b3"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>users</b></td></tr>
<tr class="memdesc:a4ccc7be825c7f5c449825676606921b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter of threads currently having control over this packet. <br /></td></tr>
<tr class="separator:a4ccc7be825c7f5c449825676606921b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8362d0e56cfabedcf51459377c58db59" id="r_a8362d0e56cfabedcf51459377c58db59"><td class="memItemLeft" align="right" valign="top"><a id="a8362d0e56cfabedcf51459377c58db59" name="a8362d0e56cfabedcf51459377c58db59"></a>
<a class="el" href="group__net__gnrc__nettype.html#ga2582fbb16a318806983c225a69460902">gnrc_nettype_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>type</b></td></tr>
<tr class="memdesc:a8362d0e56cfabedcf51459377c58db59"><td class="mdescLeft">&#160;</td><td class="mdescRight">protocol of the packet snip <br /></td></tr>
<tr class="separator:a8362d0e56cfabedcf51459377c58db59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>sys/include/net/gnrc/<a class="el" href="net_2gnrc_2pkt_8h.html">pkt.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
<div>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structgnrc__pktsnip.html">gnrc_pktsnip</a></li>
    <li class="footer">Generated on Tue Oct 1 2024 14:02:39 for RIOT OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</div>
</body>
</html>
