<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.12.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RIOT OS: Raspberry Pi Pico</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="clipboard.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="global.css" rel="stylesheet" type="text/css"/>
    <!-- ... other metadata & script includes ... -->
    <script
      type="text/javascript"
      src="doxygen-awesome-paragraph-link.js"
    ></script>
      <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
    <!-- <link href="pagefind/pagefind-ui.css" rel="stylesheet"> -->
    <script src="pagefind/pagefind-ui.js"></script>
    <script>
      // Check whether the PagefindUI class is available
      if (typeof PagefindUI === "undefined") {
        console.warn("PagefindUI class is not available | Dev Build");
      } else {
        // // Remove the "searchstub" element and initialize the PagefindUI class
        // document.getElementById("#searchstub").remove();
        // Initialize the PagefindUI class with the element id "search"
        window.addEventListener("DOMContentLoaded", (event) => {
          new PagefindUI({
            element: "#pagefindsearch",
            showSubResults: true,
            showImages: false,
            resetStyles: false,
            mergeFilter: {
              "Information Source": "API Documentation",
            },
            mergeIndex: [{
              bundlePath: "https://riot.annsann.eu/pagefind",
              mergeFilter: {
                "Information Source": "Guides",
              }
          }], 
          });
        });
      }
    </script>
  </head>
  <body>
    <div>
        <div id="top">
          <!-- do not remove this div, it is closed by doxygen! -->
          <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
              <tbody>
                <tr id="projectrow">
                  <td id="projectlogo">
                    <img alt="Logo" src="riot-logo.svg"  />
                  </td>
                  <td id="projectalign">
                    <div id="projectname">
                      RIOT OS
                    </div>
                    <div id="projectbrief">The friendly Operating System for the Internet of Things</div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div
              id="searchbox"
              class="searchboxui"
            >
                <button
                id="enable-search-box"
                class="searchbutton"
                >
                <h3>üê∏üîé</h3>
                <h4>Search</h4>
              </button>
              <div id="pagefindsearch" class="hidden"></div>
            </div>
          </div>
        </div>
        <script>
          /* When the user clicks on the button, toggle between hiding and showing the search box content */
          document.getElementById("enable-search-box").addEventListener("click", function () {
            var searchbox = document.getElementById("pagefindsearch");
            if (searchbox.classList.contains("hidden")) {
              searchbox.classList.remove("hidden");
              /* Focus on the search input field (classname pagefind-ui__search-input) */
              searchbox.querySelector(".pagefind-ui__search-input").focus();
            } else {
              searchbox.classList.add("hidden");
            }
          });
        </script>
        <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__boards__rpi__pico.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#files">Files</a>  </div>
  <div class="headertitle"><div class="title">Raspberry Pi Pico<div class="ingroups"><a class="el" href="group__boards.html">Boards</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Support for the RP2040 based Raspberry Pi Pico board  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Support for the RP2040 based Raspberry Pi Pico board </p>
<h2><a class="anchor" id="autotoc_md1059"></a>
Overview</h2>
<p>The Raspberry Pi Pico is sold by the Raspberry Pi foundation for about 4 USD. It features the RP2040 MCU, a custom dual core ARM Cortex-M0+ MCU with relatively high CPU clock, plenty of RAM and some unique peripheral (the Programmable IO).</p>
<h2><a class="anchor" id="autotoc_md1060"></a>
Hardware</h2>
<p><img src="https://www.raspberrypi.org/homepage-9df4b/static/rp2040@2x-d1b9dae9345ad2bd15a23c6a567edb5c.jpg" alt="Raspberry Pi Pico" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md1061"></a>
MCU</h3>
<p>The Programmable IO (PIO) peripheral and the SSI/QSPI peripheral that supports execution from flash (XIP) are the most distinguishing features of the MCU. The latter is especially important, since the RP2040 contains no internal flash.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">MCU   </th><th class="markdownTableHeadLeft">RP2040    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Family   </td><td class="markdownTableBodyLeft">(2x) ARM Cortex-M0+    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Vendor   </td><td class="markdownTableBodyLeft">Raspberry Pi    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">RAM   </td><td class="markdownTableBodyLeft">264 KiB    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Flash   </td><td class="markdownTableBodyLeft">2 MiB (up to 16 MiB)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Frequency   </td><td class="markdownTableBodyLeft">up to 133 MHz    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">FPU   </td><td class="markdownTableBodyLeft">no    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">PIOs   </td><td class="markdownTableBodyLeft">8    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Timers   </td><td class="markdownTableBodyLeft">1 x 64-bit    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ADCs   </td><td class="markdownTableBodyLeft">1x 12-bit (4 channels + temperature sensor)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">UARTs   </td><td class="markdownTableBodyLeft">2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">SPIs   </td><td class="markdownTableBodyLeft">2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">I2Cs   </td><td class="markdownTableBodyLeft">2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">RTCs   </td><td class="markdownTableBodyLeft">1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">USBs   </td><td class="markdownTableBodyLeft">1 (USB 2.0)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Watchdog   </td><td class="markdownTableBodyLeft">1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">SSI/QSPI   </td><td class="markdownTableBodyLeft">1 (connected to flash, with XIP support)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Vcc   </td><td class="markdownTableBodyLeft">1.62V - 3.63V    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Datasheet   </td><td class="markdownTableBodyLeft"><a href="https://datasheets.raspberrypi.com/pico/pico-datasheet.pdf">Datasheet</a>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md1062"></a>
User Interface</h3>
<p>1 button (also used for boot selection) and 1 LED:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Device   </th><th class="markdownTableHeadLeft">PIN    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">LED0   </td><td class="markdownTableBodyLeft">25    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">SW0   </td><td class="markdownTableBodyLeft">QSPI_SS_N (*)   </td></tr>
</table>
<p>(*) Since the switch is connected to the chip-select pin of the QSPI interface the flash chip RIOT is running from via XIP, the switch is difficult to read out from software. This is currently not supported.</p>
<h3><a class="anchor" id="autotoc_md1063"></a>
Pinout</h3>
<p><img src="https://projects-static.raspberrypi.org/projects/getting-started-with-the-pico/f009ad94826c2f0cd7573a295897e76955301096/en/images/Pico-R3-Pinout.png" alt="Pinout Diagram of RPi Pico" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md1064"></a>
Flashing the Board</h2>
<h3><a class="anchor" id="autotoc_md1065"></a>
Flashing the Board Using the Bootloader</h3>
<p>Connect the device to your Micro-USB cable while the button (labeled <code>BOOTSEL</code> on the silkscreen of the PCB) is pressed to enter the bootloader. The pico will present itself as a storage medium to the system, to which a UF2 file can be copied perform the flashing of the device. This can be automated by running:</p>
<div class="fragment"><div class="line">make BOARD=rpi-pico flash</div>
</div><!-- fragment --><p>This is default flashing option using elf2uf2 PROGRAMMER. If the storage is not automatically mounted to <code>/media/&lt;USER_NAME&gt;/RPI-RP2</code>, you can overwrite the path by exporting the shell environment variable <code>ELF2UF2_MOUNT_PATH</code>.</p>
<h3><a class="anchor" id="autotoc_md1066"></a>
Flashing the Board Using OpenOCD</h3>
<p>Currently (June 2021), only two methods for debugging via OpenOCD are supported:</p>
<ol type="1">
<li>Using a bit-banging low-level adapter, e.g. via the GPIOs of a Raspberry Pi 4B</li>
<li>Using a virtual CMSIS-DAP adapter provided by the second CPU core via <a href="https://github.com/majbthrd/pico-debug">https://github.com/majbthrd/pico-debug</a></li>
</ol>
<p>Option 2 requires no additional hardware however, you need to first "flash" the gimme-cache variant of <a href="https://github.com/majbthrd/pico-debug">pico-debug</a> into RAM using the UF2 bootloader. For this, plug in the USB cable while holding down the BOOTSEL button of the Pico and copy the <code>pico-debug-gimmecache.uf2</code> from the <a href="https://github.com/majbthrd/pico-debug/releases">latest pico-debug release</a> into the virtual FAT formatted drive the bootloader provides. Once this drive is unmounted again, this will result in the Raspberry Pi Pico showing up as CMSIS-DAP debugger. Afterwards run:</p>
<div class="fragment"><div class="line">make BOARD=rpi-pico PROGRAMMER=openocd flash</div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>The <code>rpi-pico</code> virtual debugger is not persistent and needs to be "flashed" into RAM again after each cold boot.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>As of July 2021, the latest stable release of OpenOCD does not yet support the RP2040 MCU. Instead, compile the current <code>master</code> branch from the upstream OpenOCD source. The OpenOCD fork of the Raspberry Pi foundation is incompatible with OpenOCD configuration provided, so please stick with upstream OpenOCD.</dd></dl>
<h3><a class="anchor" id="autotoc_md1067"></a>
Flashing the Board Using J-Link</h3>
<p>Connect the Board to an Segger J-Link debugger, e.g. the EDU mini debugger is relatively affordable, but limited to educational purposes. Afterwards run:</p>
<div class="fragment"><div class="line">make BOARD=rpi-pico PROGRAMMER=jlink flash</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1068"></a>
Accessing RIOT shell</h2>
<p>This board's default access to RIOT shell is via UART (UART0 TX - pin 1, UART0 RX - pin 2).</p>
<p>The default baud rate is 115 200.</p>
<p>The simplest way to connect to the shell is the execution of the command:</p>
<div class="fragment"><div class="line">make BOARD=rpi-pico term</div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>Raspberry Pi Pico board is not 5V tolerant. Use voltage divider or logic level shifter when connecting to 5V UART.</dd></dl>
<h2><a class="anchor" id="autotoc_md1069"></a>
On-Chip Debugging</h2>
<p>There are currently (June 2021) few hardware options for debugging the Raspberry Pi Pico:</p>
<ol type="1">
<li>Via J-Link using one of Seggers debuggers</li>
<li>Via OpenOCD using a low-level bit-banging debugger (e.g. a Raspberry Pi 4B with the GPIOs connected to the Raspberry Pi Pico via jump wires)</li>
<li>Via a recently updated <a href="https://github.com/blacksphere/blackmagic">Black Magic Probe</a></li>
</ol>
<p>In addition, a software-only option is possible using <a href="https://github.com/majbthrd/pico-debug">pico-debug</a>. The default linker script reserved 16 KiB of RAM for this debugger, hence just "flash" the "gimme-cache" flavor into RAM using the UF2 bootloader. Once this is done, debugging is as simple as running:</p>
<div class="fragment"><div class="line">make BOARD=rpi-pico debug</div>
</div><!-- fragment --><p>Beware:*** The <code>rpi-pico</code> virtual debugger is not persistent and needs to be "flashed" into RAM again after each cold boot. The initialization code of RIOT now seems to play well with the debugger, so it remains persistent on soft reboots. If you face issues with losing connection to the debugger on reboot, try <code>monitor reset init</code> in GDB to soft-reboot instead.</p>
<h2><a class="anchor" id="autotoc_md1070"></a>
Known Issues / Problems</h2>
<h3><a class="anchor" id="autotoc_md1071"></a>
Early state Implementation</h3>
<p>Currently no support for the following peripherals is implemented:</p>
<ul>
<li>Timers</li>
<li>ADC</li>
<li>SPI</li>
<li>I2C</li>
<li>USB</li>
<li>PIO</li>
<li>RTC</li>
<li>Watchdog</li>
<li>SMP support (multi CPU support is not implemented in RIOT) </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpi-pico_2include_2board_8h.html">board.h</a></td></tr>
<tr class="memdesc:rpi-pico_2include_2board_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Board specific definitions for the Raspberry Pi Pico. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpi-pico_2include_2gpio__params_8h.html">gpio_params.h</a></td></tr>
<tr class="memdesc:rpi-pico_2include_2gpio__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Board specific configuration of direct mapped GPIOs. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boards_2rpi-pico_2include_2periph__conf_8h.html">periph_conf.h</a></td></tr>
<tr class="memdesc:boards_2rpi-pico_2include_2periph__conf_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration of CPU peripherals for the Raspberry Pi Pico. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
<div>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 8 2024 11:15:55 for RIOT OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</div>
</body>
</html>
