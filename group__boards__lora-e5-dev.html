<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.12.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RIOT OS: LoRa-E5 Development Board - STM32WLE5JC</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="clipboard.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="global.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-paragraph-link.js" rel="stylesheet" type="text/css"/>
    <!-- ... other metadata & script includes ... -->
    <script
      type="text/javascript"
      src="doxygen-awesome-paragraph-link.js"
    ></script>
    <script type="text/javascript">
      DoxygenAwesomeParagraphLink.init();
    </script>
    <!-- <link href="pagefind/pagefind-ui.css" rel="stylesheet"> -->
    <script src="pagefind/pagefind-ui.js"></script>
    <script>
      // Check whether the PagefindUI class is available
      if (typeof PagefindUI === "undefined") {
        console.error("PagefindUI class is not available | Dev Build");
      } else {
        // // Remove the "searchstub" element and initialize the PagefindUI class
        // document.getElementById("#searchstub").remove();
        // Initialize the PagefindUI class with the element id "search"
        window.addEventListener("DOMContentLoaded", (event) => {
          new PagefindUI({
            element: "#pagefindsearch",
            showSubResults: true,
            showImages: false,
            resetStyles: false,
            mergeFilter: {
              "Information Source": "API Documentation",
            },
            mergeIndex: [{
              bundlePath: "https://riot.annsann.eu/pagefind",
              mergeFilter: {
                "Information Source": "Guides",
              }
          }], 
          });
        });
      }
    </script>
  </head>
  <body>
    <div>
        <div id="top">
          <!-- do not remove this div, it is closed by doxygen! -->
          <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
              <tbody>
                <tr id="projectrow">
                  <td id="projectlogo">
                    <img alt="Logo" src="riot-logo.svg"  />
                  </td>
                  <td id="projectalign">
                    <div id="projectname">
                      RIOT OS
                    </div>
                    <div id="projectbrief">The friendly Operating System for the Internet of Things</div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div
              id="searchbox"
              class="flex justify-items-center mb-6 gap-2 flex-col transition ease-in-out absolute z-[1055] bg-slate-800 right-6 top-16 rounded-xl min-h-32 m-4 p-4 max-h-screen min-w-64 max-w-96 overflow-y-auto overflow-x-hidden outline-double outline-4 outline-slate-700"
            >
              <div class="self-center text-xl">Searchbox üê∏üîé</div>
              <div id="pagefindsearch"></div>
            </div>
          </div>
        </div>
        <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__boards__lora-e5-dev.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#files">Files</a>  </div>
  <div class="headertitle"><div class="title">LoRa-E5 Development Board - STM32WLE5JC<div class="ingroups"><a class="el" href="group__boards.html">Boards</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Support for the LoRa-E5 Development Board - STM32WLE5JC.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Support for the LoRa-E5 Development Board - STM32WLE5JC. </p>
<dl class="section warning"><dt>Warning</dt><dd>This BOARD comes with arduino style pin headers, but the gpio mapping does not map to arduino BOARDs, even 3.3V and 5V pins are placed differently, so don't use arduino expansion-boards since these might short-circuit the mcu and/or expansion-board.</dd></dl>
<p>The LoRa-E5 Dev Board is an evaluation board for the Seeed Studio LoRa-E5 STM32WLE5JC module. The cpu includes a radio supporting multiple LPWAN protocols in the 868/915 MHz frequency bands, including LoRa, capable of 20.8dBm output at 3.3V.</p>
<p>Convenient interfaces as Grove and RS-485 are mapped out, and the many pins map most of the modules GPIOs. But watch out! Although it features Arduino style pin headers, they are not arduino compatible.</p>
<p>The board also includes a JST battery connector as well as control over the external power lines which can be enabled or disabled by software.</p>
<h3><a class="anchor" id="autotoc_md488"></a>
MCU</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">MCU   </th><th class="markdownTableHeadLeft">STM32WL5EJC    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Family   </td><td class="markdownTableBodyLeft">ARM Cortex-M4    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Vendor   </td><td class="markdownTableBodyLeft">ST Microelectronics    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">RAM   </td><td class="markdownTableBodyLeft">64KiB    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Flash   </td><td class="markdownTableBodyLeft">256KiB    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Frequency   </td><td class="markdownTableBodyLeft">up to 48MHz    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">FPU   </td><td class="markdownTableBodyLeft">no    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Vcc   </td><td class="markdownTableBodyLeft">1.8 V - 3.6V    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Datasheet   </td><td class="markdownTableBodyLeft"><a href="https://files.seeedstudio.com/products/317990687/res/STM32WLE5JC%20Datasheet.pdf">Datasheet</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Reference Manual   </td><td class="markdownTableBodyLeft"><a href="https://www.st.com/resource/en/reference_manual/rm0461-stm32wlex-advanced-armbased-32bit-mcus-with-subghz-radio-solution-stmicroelectronics.pdf">Reference Manual</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Board Manual   </td><td class="markdownTableBodyLeft"><a href="https://www.st.com/resource/en/data_brief/nucleo-wl55jc.pdf">Board Manual</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Board Schematic   </td><td class="markdownTableBodyLeft"><a href="https://files.seeedstudio.com/products/113990934/LoRa-E5%20Dev%20Board%20v1.0.pdf">Board Schematic</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">LoRa-E5 STM32WL5EJC Module wiki   </td><td class="markdownTableBodyLeft"><a href="https://wiki.seeedstudio.com/LoRa-E5_STM32WLE5JC_Module/#2-develop-with-stm32cube-mcu-package">https://wiki.seeedstudio.com/LoRa-E5_STM32WLE5JC_Module/#2-develop-with-stm32cube-mcu-package</a>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md489"></a>
Pinout</h3>
<p><img src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/hardware%20overview/4071615359366_.pic_hd.jpg" alt="lora-e5-dev" class="inline"/></p>
<p>The default Peripheral Mapping is specified <a href="https://github.com/RIOT-OS/RIOT/blob/master/boards/lora-e5-dev/include/periph_conf.h">here</a></p>
<h3><a class="anchor" id="autotoc_md490"></a>
Board Interface</h3>
<p>3 Buttons:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">NAME   </th><th class="markdownTableHeadLeft">BOOT   </th><th class="markdownTableHeadLeft">D0   </th><th class="markdownTableHeadLeft">RESET    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">Pin   </td><td class="markdownTableBodyLeft">PA0 (IN)   </td><td class="markdownTableBodyLeft">PB13 (IN)   </td><td class="markdownTableBodyLeft">NRST   </td></tr>
</table>
<p>1 LED:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">NAME   </th><th class="markdownTableHeadNone">D5    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Color   </td><td class="markdownTableBodyNone">red    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Pin   </td><td class="markdownTableBodyNone">PB5   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md491"></a>
Power Lines</h3>
<p>All power lines are on by default, but some of them can optionally be disabled, namely 3.3V and 5V. These feed all external pins as well as the internal LM75A, more details are available on the schematic.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Name   </th><th class="markdownTableHeadLeft">Controlled By   </th><th class="markdownTableHeadLeft">Alias    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">3.3V   </td><td class="markdownTableBodyLeft">PA9   </td><td class="markdownTableBodyLeft">LORA_E5_DEV_3P3V_ENABLE_PIN    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">3.3V   </td><td class="markdownTableBodyLeft">PB10   </td><td class="markdownTableBodyLeft">LORA_E5_DEV_5V_ENABLE_PIN    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft"></td></tr>
</table>
<h3><a class="anchor" id="autotoc_md492"></a>
Flashing</h3>
<h4><a class="anchor" id="autotoc_md493"></a>
Disabling Read Protection</h4>
<p>The board comes pre-flashed with a DFU bootloader, an AT command Firmware and read protection enabled and set to 1. So before being able to program anything else, read protection needs to be set back to level 0.</p>
<p>The easiest way of doing this is with the <a href="https://www.st.com/en/development-tools/stm32cubeprog.html">STM32CubeProgramer</a> GUI and setting the RDP option byte to <code>AA</code></p>
<p><img src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program1.png" alt="LoRa-E5 STM32CubeProgramer1" class="inline"/> <img src="https://files.seeedstudio.com/wiki/LoRa-E5_Development_Kit/wiki%20images/program2.png" alt="LoRa-E5 STM32CubeProgramer2" class="inline"/></p>
<p>Alternatively you can use the STM32_Programer_CLI:</p>
<div class="fragment"><div class="line">$ STM32_Programmer_CLI --<a class="code hl_function" href="group__posix__sockets.html#gaeedaa5cac80a95d50232c1d130615a1a">connect</a> port=swd --readunprotect</div>
<div class="ttc" id="agroup__posix__sockets_html_gaeedaa5cac80a95d50232c1d130615a1a"><div class="ttname"><a href="group__posix__sockets.html#gaeedaa5cac80a95d50232c1d130615a1a">connect</a></div><div class="ttdeci">int connect(int socket, const struct sockaddr *address, socklen_t address_len)</div><div class="ttdoc">Connect a socket.</div></div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md494"></a>
Programming with an external ST-LINK</h4>
<p>Since there is no ST-LINK programmer on the board an external one needs to be connected. Any Nucleo or STM32Discovery board can be used for this by simply removing the ST-LINK jumpers and connecting on the CN4 headers (see <a href="https://www.st.com/resource/en/user_manual/um1724-stm32-nucleo64-boards-mb1136-stmicroelectronics.pdf">UM1724 6.2.4</a> for more details). An example is seen in the following image:</p>
<p><img src="https://stm32python.gitlab.io/fr-version-lora/site/assets/images/lora/seeestudio_lora_e5_dev_connection.png" alt="LoRa-E5 Dev ST-LINK" class="inline"/></p>
<div class="fragment"><div class="line">     CN4                                       LoRa-E5 Dev</div>
<div class="line">                                           (Dark Blue Header)</div>
<div class="line">Pin 1: VDD_TARGET            N/C</div>
<div class="line">Pin 2: SWCLK      ----&gt;  Yellow Cable ----&gt;       CLK</div>
<div class="line">Pin 3: GND        ----&gt;  Black Cable  ----&gt;       GND</div>
<div class="line">Pin 4: SWDIO      ----&gt;  Blue Cable   ----&gt;       DIO</div>
<div class="line">Pin 5: NRST                  N/C</div>
<div class="line">Pin 6: SWO                   N/C</div>
</div><!-- fragment --><p>Flashing can then be performed seamlessly with OpenOCD:</p>
<div class="fragment"><div class="line">BOARD=lora-e5-dev make flash</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md495"></a>
Serial connection</h3>
<p>The default serial connection is through the USB-C port mapping to PB7 (RX) and PB6 (TX) UART pins (a second UART and an LPUART interface is also exposed).</p>
<div class="fragment"><div class="line">BOARD=lora-e5-dev make term</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md496"></a>
Debugging</h3>
<p>For Debugging an external programmer is required, connected as depicted in the above picture, then the debugger can be attached with:</p>
<div class="fragment"><div class="line">BOARD=lora-e5-dev make debug</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md497"></a>
LoRa</h3>
<p>This board comes embedded with an <code><a class="el" href="structsx126x.html" title="Device descriptor for the driver.">sx126x</a></code> based LoRa radio. The precise module that needs to be selected is <code>USEMODULE += sx126x_stm32wl</code>, this is also selected with <code>USEMODULE += netdev_default</code>.</p>
<p>Differently from other <code>stm32wl</code> chips this module only transmits through <code>RFO_HP</code>.</p>
<h3><a class="anchor" id="autotoc_md498"></a>
Sensors</h3>
<p>This board includes a <a class="el" href="group__drivers__lm75.html">LM75 Temperature Sensor driver compile configuration</a> temperature sensor. It can be included with <code>USEMODULE += lm75a</code> or through <code>USEMODULE += saul_default</code>. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lora-e5-dev_2include_2arduino__iomap_8h.html">arduino_iomap.h</a></td></tr>
<tr class="memdesc:lora-e5-dev_2include_2arduino__iomap_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping from MCU pins to Arduino pins. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lora-e5-dev_2include_2board_8h.html">board.h</a></td></tr>
<tr class="memdesc:lora-e5-dev_2include_2board_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin definitions and board configuration options for LoRa-E5 Development Board. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lora-e5-dev_2include_2gpio__params_8h.html">gpio_params.h</a></td></tr>
<tr class="memdesc:lora-e5-dev_2include_2gpio__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Board specific configuration of direct mapped GPIOs. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boards_2lora-e5-dev_2include_2periph__conf_8h.html">periph_conf.h</a></td></tr>
<tr class="memdesc:boards_2lora-e5-dev_2include_2periph__conf_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peripheral MCU configuration for the LoRa-E5 Development Board. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
<div>
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 1 2024 14:46:19 for RIOT OS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</div>
</body>
</html>
